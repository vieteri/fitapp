{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/app/client-actions.ts"],"sourcesContent":["\"use client\"\n\nimport { createClient } from \"@/utils/supabase/client\";\nimport { redirect } from \"next/navigation\";\nimport { User } from \"@supabase/auth-js\";\n\nexport const signIn = async (formData: FormData, setUser: (user: User | null) => void) => {\n  const email = formData.get(\"email\") as string;\n  const password = formData.get(\"password\") as string;\n\n  const response = await fetch('/api/auth/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  });\n\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.error);\n  }\n\n  // Store tokens in localStorage\n  localStorage.setItem('access_token', data.access_token);\n  localStorage.setItem('refresh_token', data.refresh_token);\n\n  setUser(data.user);\n};\n\nexport const signOut = async () => {\n  localStorage.removeItem('access_token');\n  localStorage.removeItem('refresh_token');\n  window.location.href = '/sign-in';\n};\n\nexport const getAuthToken = () => {\n  if (typeof window === 'undefined') return null;\n  return localStorage.getItem('access_token');\n};\n\n// Helper function to add auth header to requests\nexport const authFetch = async (url: string, options: RequestInit = {}) => {\n  const token = getAuthToken();\n  if (!token) {\n    const error = new Error('No authentication token found');\n    (error as any).status = 401;\n    throw error;\n  }\n\n  const headers = {\n    'Content-Type': 'application/json',\n    ...options.headers,\n    'Authorization': `Bearer ${token}`,\n  };\n\n  try {\n    const response = await fetch(url, {\n      ...options,\n      headers,\n    });\n\n    if (response.status === 401 || response.status === 403) {\n      // Token expired or invalid\n      localStorage.removeItem('access_token');\n      localStorage.removeItem('refresh_token');\n      const error = new Error('Authentication token expired');\n      (error as any).status = response.status;\n      throw error;\n    }\n\n    return response;\n  } catch (error) {\n    // Handle network errors\n    if (error instanceof TypeError && error.message === 'Failed to fetch') {\n      const networkError = new Error('Network error - please check your connection');\n      (networkError as any).status = 0;\n      throw networkError;\n    }\n    throw error;\n  }\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAMO,MAAM,SAAS,OAAO,UAAoB;IAC/C,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,WAAW,SAAS,GAAG,CAAC;IAE9B,MAAM,WAAW,MAAM,MAAM,mBAAmB;QAC9C,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;QAAS;IACzC;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,KAAK,KAAK;IAC5B;IAEA,+BAA+B;IAC/B,aAAa,OAAO,CAAC,gBAAgB,KAAK,YAAY;IACtD,aAAa,OAAO,CAAC,iBAAiB,KAAK,aAAa;IAExD,QAAQ,KAAK,IAAI;AACnB;AAEO,MAAM,UAAU;IACrB,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;IACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;AACzB;AAEO,MAAM,eAAe;IAC1B,wCAAmC,OAAO;;;AAE5C;AAGO,MAAM,YAAY,OAAO,KAAa,UAAuB,CAAC,CAAC;IACpE,MAAM,QAAQ;IACd,IAAI,CAAC,OAAO;QACV,MAAM,QAAQ,IAAI,MAAM;QACvB,MAAc,MAAM,GAAG;QACxB,MAAM;IACR;IAEA,MAAM,UAAU;QACd,gBAAgB;QAChB,GAAG,QAAQ,OAAO;QAClB,iBAAiB,CAAC,OAAO,EAAE,OAAO;IACpC;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,KAAK;YAChC,GAAG,OAAO;YACV;QACF;QAEA,IAAI,SAAS,MAAM,KAAK,OAAO,SAAS,MAAM,KAAK,KAAK;YACtD,2BAA2B;YAC3B,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,MAAM,QAAQ,IAAI,MAAM;YACvB,MAAc,MAAM,GAAG,SAAS,MAAM;YACvC,MAAM;QACR;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,wBAAwB;QACxB,IAAI,iBAAiB,aAAa,MAAM,OAAO,KAAK,mBAAmB;YACrE,MAAM,eAAe,IAAI,MAAM;YAC9B,aAAqB,MAAM,GAAG;YAC/B,MAAM;QACR;QACA,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/context/auth-context.tsx"],"sourcesContent":["\"use client\";\n\nimport { User } from \"@supabase/auth-helpers-nextjs\";\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport { getAuthToken, authFetch } from \"@/app/client-actions\";\n\ninterface AuthContextType {\n  user: User | null;\n  setUser: (user: User | null) => void;\n  loading: boolean;\n  verified: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType>({\n  user: null,\n  setUser: () => {},\n  loading: true,\n  verified: false\n});\n\nfunction isTokenExpired(token: string): boolean {\n  try {\n    const [, payload] = token.split('.');\n    const decodedPayload = JSON.parse(Buffer.from(payload, 'base64').toString());\n    if (!decodedPayload.exp) return true;\n    return Date.now() >= (decodedPayload.exp * 1000) - 30000;\n  } catch {\n    return true;\n  }\n}\n\nfunction parseUserFromToken(token: string): User | null {\n  try {\n    const [, payload] = token.split('.');\n    const { sub, email, user_metadata } = JSON.parse(Buffer.from(payload, 'base64').toString());\n    return {\n      id: sub,\n      email,\n      ...user_metadata\n    } as User;\n  } catch {\n    return null;\n  }\n}\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [verified, setVerified] = useState(false);\n\n  useEffect(() => {\n    let mounted = true;\n\n    const initializeAuth = async () => {\n      try {\n        // Instant local check\n        const token = getAuthToken();\n        if (!token || isTokenExpired(token)) {\n          localStorage.removeItem('access_token');\n          localStorage.removeItem('refresh_token');\n          if (mounted) {\n            setUser(null);\n            setLoading(false);\n          }\n          return;\n        }\n\n        // Set initial user state from token immediately for responsiveness\n        const parsedUser = parseUserFromToken(token);\n        if (mounted) {\n          setUser(parsedUser);\n          setLoading(false); // Set loading to false immediately for better UX\n        }\n\n        // Background verification with shorter timeout - only if we have a token\n        if (token && !isTokenExpired(token)) {\n          const controller = new AbortController();\n          const timeoutId = setTimeout(() => controller.abort(), 3000); // 3s timeout\n\n          try {\n            const response = await authFetch('/api/auth/verify', {\n              signal: controller.signal\n            });\n            clearTimeout(timeoutId);\n            \n            if (response.ok) {\n              const data = await response.json();\n              \n              if (mounted) {\n                if (data.valid) {\n                  setUser(data.user);\n                  setVerified(true);\n                } else {\n                  localStorage.removeItem('access_token');\n                  localStorage.removeItem('refresh_token');\n                  setUser(null);\n                }\n              }\n            } else {\n              // Handle non-200 responses\n              if (mounted && (response.status === 401 || response.status === 403)) {\n                localStorage.removeItem('access_token');\n                localStorage.removeItem('refresh_token');\n                setUser(null);\n              }\n            }\n          } catch (error: any) {\n            clearTimeout(timeoutId);\n            if (error?.name !== 'AbortError') {\n              console.error('Auth verification error:', error);\n              if (mounted) {\n                // Handle different error types\n                if (error?.status === 401 || error?.status === 403) {\n                  localStorage.removeItem('access_token');\n                  localStorage.removeItem('refresh_token');\n                  setUser(null);\n                } else if (error?.status === 0) {\n                  // Network error - keep user logged in locally\n                  console.log('Network error during auth verification, keeping user logged in locally');\n                } else {\n                  // Other errors - log but don't necessarily sign out\n                  console.log('Auth verification failed, but keeping user logged in locally');\n                }\n              }\n            }\n          }\n        }\n      } catch (error) {\n        console.error('Auth initialization error:', error);\n        if (mounted) {\n          setUser(null);\n          setLoading(false);\n        }\n      }\n    };\n\n    initializeAuth();\n\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, setUser, loading, verified }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/components/providers.tsx"],"sourcesContent":["'use client';\n\nimport { ThemeProvider } from \"next-themes\";\nimport { AuthProvider } from \"@/context/auth-context\";\nimport { Toaster } from \"sonner\";\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <AuthProvider>\n      <ThemeProvider\n        attribute=\"class\"\n        defaultTheme=\"system\"\n        enableSystem\n        disableTransitionOnChange\n      >\n        {children}\n        <Toaster />\n      </ThemeProvider>\n    </AuthProvider>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,8OAAC,2HAAA,CAAA,eAAY;kBACX,cAAA,8OAAC,gJAAA,CAAA,gBAAa;YACZ,WAAU;YACV,cAAa;YACb,YAAY;YACZ,yBAAyB;;gBAExB;8BACD,8OAAC,wIAAA,CAAA,UAAO;;;;;;;;;;;;;;;;AAIhB","debugId":null}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/utils/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\n\nexport const createClient = () => {\n  if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n    throw new Error(\"Supabase environment variables are not set\");\n  }\n  \n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,\n  );\n}\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEO,MAAM,eAAe;IAC1B;;IAIA,OAAO,CAAA,GAAA,0KAAA,CAAA,sBAAmB,AAAD;AAI3B","debugId":null}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 446, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/components/ui/error-state.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport { AlertCircle, RefreshCcw } from \"lucide-react\";\n\ninterface ErrorStateProps {\n  title?: string;\n  message?: string;\n  retry?: () => void;\n}\n\nexport function ErrorState({\n  title = \"Something went wrong\",\n  message = \"An error occurred while loading this page. Please try again.\",\n  retry\n}: ErrorStateProps) {\n  return (\n    <div className=\"flex flex-col items-center justify-center p-8 text-center\">\n      <AlertCircle className=\"h-12 w-12 text-destructive mb-4\" />\n      <h2 className=\"text-xl font-semibold mb-2\">{title}</h2>\n      <p className=\"text-muted-foreground mb-6 max-w-md\">{message}</p>\n      {retry && (\n        <Button onClick={retry} variant=\"outline\" size=\"lg\">\n          <RefreshCcw className=\"h-4 w-4 mr-2\" />\n          Try Again\n        </Button>\n      )}\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;;AAQO,SAAS,WAAW,EACzB,QAAQ,sBAAsB,EAC9B,UAAU,8DAA8D,EACxE,KAAK,EACW;IAChB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,oNAAA,CAAA,cAAW;gBAAC,WAAU;;;;;;0BACvB,8OAAC;gBAAG,WAAU;0BAA8B;;;;;;0BAC5C,8OAAC;gBAAE,WAAU;0BAAuC;;;;;;YACnD,uBACC,8OAAC,2HAAA,CAAA,SAAM;gBAAC,SAAS;gBAAO,SAAQ;gBAAU,MAAK;;kCAC7C,8OAAC,kNAAA,CAAA,aAAU;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;;AAMjD","debugId":null}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/components/ui/error-boundary.tsx"],"sourcesContent":["'use client';\n\nimport { Component, ReactNode } from 'react';\nimport { ErrorState } from './error-state';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  reset = () => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <ErrorState\n          title=\"Something went wrong\"\n          message={this.state.error?.message || \"An unexpected error occurred\"}\n          retry={this.reset}\n        />\n      );\n    }\n\n    return this.props.children;\n  }\n} "],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAeO,MAAM,sBAAsB,qMAAA,CAAA,YAAS;IAC1C,YAAY,KAAY,CAAE;QACxB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;YAAO,OAAO;QAAK;IAC9C;IAEA,OAAO,yBAAyB,KAAY,EAAS;QACnD,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEA,QAAQ;QACN,IAAI,CAAC,QAAQ,CAAC;YAAE,UAAU;YAAO,OAAO;QAAK;IAC/C,EAAE;IAEF,SAAS;QACP,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC5B;YAEA,qBACE,8OAAC,mIAAA,CAAA,aAAU;gBACT,OAAM;gBACN,SAAS,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,WAAW;gBACtC,OAAO,IAAI,CAAC,KAAK;;;;;;QAGvB;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF","debugId":null}},
    {"offset": {"line": 565, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/components/ui/with-error-boundary.tsx"],"sourcesContent":["'use client';\n\nimport { ComponentType } from 'react';\nimport { ErrorBoundary } from './error-boundary';\n\nexport function withErrorBoundary<P extends object>(\n  Component: ComponentType<P>,\n  fallback?: React.ReactNode\n) {\n  return function WithErrorBoundary(props: P) {\n    return (\n      <ErrorBoundary fallback={fallback}>\n        <Component {...props} />\n      </ErrorBoundary>\n    );\n  };\n} "],"names":[],"mappings":";;;;AAGA;AAHA;;;AAKO,SAAS,kBACd,SAA2B,EAC3B,QAA0B;IAE1B,OAAO,SAAS,kBAAkB,KAAQ;QACxC,qBACE,8OAAC,sIAAA,CAAA,gBAAa;YAAC,UAAU;sBACvB,cAAA,8OAAC;gBAAW,GAAG,KAAK;;;;;;;;;;;IAG1B;AACF","debugId":null}},
    {"offset": {"line": 595, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/components/ui/header.tsx"],"sourcesContent":["'use client';\n\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { User } from \"@supabase/auth-js\";\nimport { useAuth } from \"@/context/auth-context\";\nimport { withErrorBoundary } from \"./with-error-boundary\";\nimport { Button } from \"./button\";\nimport { Menu, X, Dumbbell, User as UserIcon, LogOut } from \"lucide-react\";\n\nfunction HeaderContent() {\n  const { user, loading } = useAuth();\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const supabase = createClient();\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut();\n    setMobileMenuOpen(false);\n  };\n\n  const navigationItems = [\n    { href: \"/workouts\", label: \"Workouts\", icon: Dumbbell },\n    { href: \"/routines\", label: \"Routines\", icon: Menu },\n    { href: \"/chat\", label: \"AI Coach\", icon: UserIcon },\n    { href: \"/profile\", label: \"Profile\", icon: UserIcon },\n  ];\n\n  return (\n    <header className=\"sticky top-0 z-50 w-full border-b border-white/10 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg\">\n      <div className=\"container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <nav className=\"flex justify-between items-center h-16\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center gap-2 font-bold text-xl\">\n            <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n              <Dumbbell className=\"h-5 w-5 text-white\" />\n            </div>\n            <span className=\"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              FitApp\n            </span>\n          </Link>\n\n          {/* Desktop Navigation */}\n          {!loading && user && (\n            <div className=\"hidden md:flex items-center gap-1\">\n              {navigationItems.map((item) => (\n                <Link \n                  key={item.href}\n                  href={item.href} \n                  className=\"px-4 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200\"\n                >\n                  {item.label}\n                </Link>\n              ))}\n            </div>\n          )}\n\n          {/* Desktop Auth */}\n          <div className=\"hidden md:flex items-center gap-3\">\n            {loading ? (\n              <div className=\"w-20 h-8 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse\"></div>\n            ) : user ? (\n              <Button \n                onClick={handleSignOut} \n                variant=\"ghost\"\n                className=\"text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400\"\n              >\n                <LogOut className=\"h-4 w-4 mr-2\" />\n                Sign Out\n              </Button>\n            ) : (\n              <div className=\"flex gap-2\">\n                <Button asChild variant=\"ghost\">\n                  <Link href=\"/sign-in\">Sign In</Link>\n                </Button>\n                <Button asChild className=\"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700\">\n                  <Link href=\"/sign-up\">Sign Up</Link>\n                </Button>\n              </div>\n            )}\n          </div>\n\n          {/* Mobile Menu Button */}\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"md:hidden\"\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n          >\n            {mobileMenuOpen ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\n          </Button>\n        </nav>\n\n        {/* Mobile Menu */}\n        {mobileMenuOpen && (\n          <div className=\"md:hidden border-t border-white/10 bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg\">\n            <div className=\"px-4 py-4 space-y-2\">\n              {!loading && user && navigationItems.map((item) => (\n                <Link \n                  key={item.href}\n                  href={item.href}\n                  className=\"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200\"\n                  onClick={() => setMobileMenuOpen(false)}\n                >\n                  <item.icon className=\"h-5 w-5\" />\n                  {item.label}\n                </Link>\n              ))}\n              \n              <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n                {loading ? (\n                  <div className=\"w-full h-10 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse\"></div>\n                ) : user ? (\n                  <Button \n                    onClick={handleSignOut} \n                    variant=\"ghost\"\n                    className=\"w-full justify-start text-red-600 dark:text-red-400\"\n                  >\n                    <LogOut className=\"h-4 w-4 mr-2\" />\n                    Sign Out\n                  </Button>\n                ) : (\n                  <div className=\"space-y-2\">\n                    <Button asChild variant=\"ghost\" className=\"w-full\">\n                      <Link href=\"/sign-in\" onClick={() => setMobileMenuOpen(false)}>\n                        Sign In\n                      </Link>\n                    </Button>\n                    <Button asChild className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600\">\n                      <Link href=\"/sign-up\" onClick={() => setMobileMenuOpen(false)}>\n                        Sign Up\n                      </Link>\n                    </Button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport const Header = withErrorBoundary(HeaderContent);"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 933, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/components/theme-switcher.tsx"],"sourcesContent":["\"use client\";\n\nimport { useTheme } from \"next-themes\";\nimport { Button } from \"@/components/ui/button\";\nimport { Moon, Sun } from \"lucide-react\";\nimport { withErrorBoundary } from \"./ui/with-error-boundary\";\n\nfunction ThemeSwitcherContent() {\n  const { theme, setTheme } = useTheme();\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}\n      className=\"relative rounded-full w-10 h-10 bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 transition-all duration-200\"\n    >\n      <Sun className=\"h-5 w-5 rotate-0 scale-100 transition-all duration-300 text-yellow-500 dark:-rotate-90 dark:scale-0\" />\n      <Moon className=\"absolute h-5 w-5 rotate-90 scale-0 transition-all duration-300 text-blue-400 dark:rotate-0 dark:scale-100\" />\n      <span className=\"sr-only\">Toggle theme</span>\n    </Button>\n  );\n}\n\nexport const ThemeSwitcher = withErrorBoundary(ThemeSwitcherContent);\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAOA,SAAS;IACP,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,WAAQ,AAAD;IAEnC,qBACE,8OAAC,2HAAA,CAAA,SAAM;QACL,SAAQ;QACR,MAAK;QACL,SAAS,IAAM,SAAS,UAAU,UAAU,SAAS;QACrD,WAAU;;0BAEV,8OAAC,gMAAA,CAAA,MAAG;gBAAC,WAAU;;;;;;0BACf,8OAAC,kMAAA,CAAA,OAAI;gBAAC,WAAU;;;;;;0BAChB,8OAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGhC;AAEO,MAAM,gBAAgB,CAAA,GAAA,8IAAA,CAAA,oBAAiB,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 990, "column": 0}, "map": {"version":3,"sources":["file:///Users/viettran/github/fitapp/webapp/components/ui/footer.tsx"],"sourcesContent":["'use client';\n\nimport { withErrorBoundary } from \"./with-error-boundary\";\nimport { ThemeSwitcher } from \"@/components/theme-switcher\";\nimport { Dumbbell, Heart } from \"lucide-react\";\n\nfunction FooterContent() {\n  return (\n    <footer className=\"w-full border-t border-white/10 bg-white/50 dark:bg-gray-900/50 backdrop-blur-lg\">\n      <div className=\"container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"flex flex-col items-center justify-center gap-6 text-center\">\n          {/* Logo */}\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n              <Dumbbell className=\"h-5 w-5 text-white\" />\n            </div>\n            <span className=\"font-bold text-xl bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              FitApp\n            </span>\n          </div>\n\n          {/* Links */}\n          <div className=\"flex flex-wrap items-center justify-center gap-6 text-sm text-gray-600 dark:text-gray-400\">\n            <span>© {new Date().getFullYear()} FitApp</span>\n            <div className=\"w-1 h-1 bg-gray-300 dark:bg-gray-600 rounded-full\"></div>\n            <a \n              href=\"https://supabase.com\" \n              target=\"_blank\" \n              rel=\"noopener noreferrer\"\n              className=\"hover:text-blue-600 dark:hover:text-blue-400 transition-colors\"\n            >\n              Powered by Supabase\n            </a>\n            <div className=\"w-1 h-1 bg-gray-300 dark:bg-gray-600 rounded-full\"></div>\n            <span className=\"flex items-center gap-1\">\n              Made with <Heart className=\"h-3 w-3 text-red-500 fill-red-500\" /> for fitness\n            </span>\n          </div>\n\n          {/* Theme Switcher */}\n          <ThemeSwitcher />\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport const Footer = withErrorBoundary(FooterContent); "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAMA,SAAS;IACP,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,0MAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;;;;;;0CAEtB,8OAAC;gCAAK,WAAU;0CAA+F;;;;;;;;;;;;kCAMjH,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;oCAAK;oCAAG,IAAI,OAAO,WAAW;oCAAG;;;;;;;0CAClC,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCACC,MAAK;gCACL,QAAO;gCACP,KAAI;gCACJ,WAAU;0CACX;;;;;;0CAGD,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAK,WAAU;;oCAA0B;kDAC9B,8OAAC,oMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;;oCAAsC;;;;;;;;;;;;;kCAKrE,8OAAC,gIAAA,CAAA,gBAAa;;;;;;;;;;;;;;;;;;;;;AAKxB;AAEO,MAAM,SAAS,CAAA,GAAA,8IAAA,CAAA,oBAAiB,AAAD,EAAE","debugId":null}}]
}